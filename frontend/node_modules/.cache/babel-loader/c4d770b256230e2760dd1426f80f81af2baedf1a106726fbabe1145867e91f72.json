{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{toast}from'react-toastify';import'../../node_modules/bootstrap/dist/css/bootstrap.min.css';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SingleBooking(){const navigate=useNavigate();const today=new Date().toISOString().split('T')[0];const bookingReceive={date:today,name:'',content:''};const[booking,setBooking]=useState(bookingReceive);const[update_booking,setUpdateBooking]=useState(bookingReceive);const[msgReceive,setMsgReceive]=useState();// Step 1: To collect the ID from the URL, i.e. Param\nconst{id}=useParams();// console.log(id);\n// Step 2: To perform Search based on the ID\nuseEffect(()=>{axios.get(\"https://salon-booking-backend-8k3e.onrender.com/myBooking/booking/\".concat(id)).then(response=>{// console.log(response.data);\nsetBooking(response.data);});},[id]);// console.log(booking);\nconst handleSubmit=async event=>{event.preventDefault();if(!update_booking.name||!update_booking.content){toast.error(\"Title and Content are Required!\");return;}try{const response=await axios.put(\"https://salon-booking-backend-8k3e.onrender.com/myBooking/booking_edit/\".concat(id),update_booking);setMsgReceive(response.data);toast.success('Appointment updated successfully!',{onClose:()=>{navigate('/input');}});console.log(response);}catch(error){console.log(error);toast.error('Failed to update Appointment.');}};const handleChange=event=>{const{name,value}=event.target;setUpdateBooking({...update_booking,[name]:value});};return/*#__PURE__*/_jsxs(\"div\",{className:\"AppStyle\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\",color:\"white\",fontFamily:\"montserrat thin\",textShadow:\"0 0 10px #00c3ff, 0 0 20px #00c3ff\"},children:\"Update Your Appointment\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{borderRadius:\"15px\",display:'flex',flexDirection:'column',background:\"rgba(10, 10, 10, 0.7)\",padding:\"15px\",margin:\"15px 25%\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",className:\"col-sm-2 col-form-label\",style:{color:\"aliceblue\"},children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:update_booking.date,placeholder:booking.date,min:today,name:\"date\",onChange:handleChange,style:{marginLeft:'0.5rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"col-sm-2 col-form-label\",style:{color:\"aliceblue\"},children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:booking.name,name:\"name\",onChange:handleChange,style:{marginLeft:'0.5rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",className:\"col-sm-2 col-form-label\",style:{color:\"aliceblue\"},children:\"Content\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:booking.content,name:\"content\",onChange:handleChange,style:{marginLeft:'0.5rem'}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",style:{width:'fit-content',alignSelf:'center'},children:\"Update\"})]}),msgReceive&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"white\",marginTop:\"10px\",textAlign:\"center\"},children:msgReceive.message})]});}export default SingleBooking;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","axios","toast","jsx","_jsx","jsxs","_jsxs","SingleBooking","navigate","today","Date","toISOString","split","bookingReceive","date","name","content","booking","setBooking","update_booking","setUpdateBooking","msgReceive","setMsgReceive","id","get","concat","then","response","data","handleSubmit","event","preventDefault","error","put","success","onClose","console","log","handleChange","value","target","className","children","style","textAlign","color","fontFamily","textShadow","onSubmit","borderRadius","display","flexDirection","background","padding","margin","marginBottom","htmlFor","type","placeholder","min","onChange","marginLeft","width","alignSelf","marginTop","message"],"sources":["D:/Salon_Booking/frontend/src/components/SingleBooking.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction SingleBooking() {\r\n\r\n    const navigate = useNavigate();\r\n    const today = new Date().toISOString().split('T')[0];\r\n    const bookingReceive = { date: today, name: '', content: '' };\r\n    const [booking, setBooking] = useState(bookingReceive);\r\n    const [update_booking, setUpdateBooking] = useState(bookingReceive);\r\n    const [msgReceive, setMsgReceive] = useState();\r\n\r\n    // Step 1: To collect the ID from the URL, i.e. Param\r\n    const { id } = useParams();\r\n    // console.log(id);\r\n\r\n    // Step 2: To perform Search based on the ID\r\n    useEffect(() => {\r\n        axios.get(`https://salon-booking-backend-8k3e.onrender.com/myBooking/booking/${id}`)\r\n            .then((response) => {\r\n                // console.log(response.data);\r\n                setBooking(response.data);\r\n            });\r\n    }, [id]);\r\n\r\n    // console.log(booking);\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n\r\n        if (!update_booking.name || !update_booking.content) {\r\n            toast.error(\"Title and Content are Required!\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await axios.put(`https://salon-booking-backend-8k3e.onrender.com/myBooking/booking_edit/${id}`, update_booking);\r\n            setMsgReceive(response.data);\r\n            toast.success('Appointment updated successfully!', {\r\n                onClose: () => {\r\n                    navigate('/input');\r\n                }\r\n            }\r\n            );\r\n            console.log(response);\r\n        } catch (error) {\r\n            console.log(error);\r\n            toast.error('Failed to update Appointment.')\r\n        }\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n\r\n        const { name, value } = event.target;\r\n\r\n        setUpdateBooking({ ...update_booking, [name]: value });\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"AppStyle\" >\r\n            <h2 style={{ textAlign: \"center\", color: \"white\", fontFamily: \"montserrat thin\", textShadow: \"0 0 10px #00c3ff, 0 0 20px #00c3ff\" }}>\r\n                Update Your Appointment\r\n            </h2>\r\n            <form onSubmit={handleSubmit} style={{ borderRadius: \"15px\", display: 'flex', flexDirection: 'column', background: \"rgba(10, 10, 10, 0.7)\", padding: \"15px\", margin: \"15px 25%\" }}>\r\n\r\n                <div style={{ display: 'flex', marginBottom: '1rem' }}>\r\n                    <label htmlFor=\"date\" className=\"col-sm-2 col-form-label\" style={{ color: \"aliceblue\" }} >Date</label>\r\n                    <input type=\"date\" className=\"form-control\" value={update_booking.date} placeholder={booking.date} min={today} name=\"date\" onChange={handleChange} style={{ marginLeft: '0.5rem' }} />\r\n                </div>\r\n\r\n                <div style={{ display: 'flex', marginBottom: '1rem' }}>\r\n                    <label htmlFor=\"name\" className=\"col-sm-2 col-form-label\" style={{ color: \"aliceblue\" }} >Name</label>\r\n                    <input type=\"text\" className=\"form-control\" placeholder={booking.name} name=\"name\" onChange={handleChange} style={{ marginLeft: '0.5rem' }} />\r\n                </div>\r\n\r\n                <div style={{ display: 'flex', marginBottom: '1rem' }}>\r\n                    <label htmlFor=\"content\" className=\"col-sm-2 col-form-label\" style={{ color: \"aliceblue\" }} >Content</label>\r\n                    <input type=\"text\" className=\"form-control\" placeholder={booking.content} name=\"content\" onChange={handleChange} style={{ marginLeft: '0.5rem' }} />\r\n                </div>\r\n\r\n                <button type=\"submit\" className=\"btn btn-primary\" style={{ width: 'fit-content', alignSelf: 'center' }}>Update</button>\r\n\r\n            </form>\r\n\r\n            {msgReceive && (\r\n                <div style={{ color: \"white\", marginTop: \"10px\", textAlign: \"center\" }}>\r\n                    {msgReceive.message}\r\n                </div>\r\n            )}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SingleBooking"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}